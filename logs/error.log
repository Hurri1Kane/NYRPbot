{"context":"Command Loading","errorId":"ERR-M9O47XJL-EYDB2","level":"error","message":"Cannot find module '../../utils/permissionManager'\nRequire stack:\n- C:\\NYRPbot\\src\\discord\\commands\\infraction\\createInfraction.js\n- C:\\NYRPbot\\src\\discord\\client.js\n- C:\\NYRPbot\\src\\index.js","service":"nyrp-staff-bot","stack":"Error: Cannot find module '../../utils/permissionManager'\nRequire stack:\n- C:\\NYRPbot\\src\\discord\\commands\\infraction\\createInfraction.js\n- C:\\NYRPbot\\src\\discord\\client.js\n- C:\\NYRPbot\\src\\index.js\n    at Function._resolveFilename (node:internal/modules/cjs/loader:1225:15)\n    at Function._load (node:internal/modules/cjs/loader:1055:27)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Module.require (node:internal/modules/cjs/loader:1311:12)\n    at require (node:internal/modules/helpers:136:16)\n    at Object.<anonymous> (C:\\NYRPbot\\src\\discord\\commands\\infraction\\createInfraction.js:3:32)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at Object..js (node:internal/modules/cjs/loader:1706:10)\n    at Module.load (node:internal/modules/cjs/loader:1289:32)","timestamp":"2025-04-19T11:08:47.891Z"}
{"context":"Bot Initialization","errorId":"ERR-M9O48W8L-LPNUF","level":"error","message":"Cannot read properties of undefined (reading 'checkExpirationInterval')","service":"nyrp-staff-bot","stack":"TypeError: Cannot read properties of undefined (reading 'checkExpirationInterval')\n    at new SuspensionChecker (C:\\NYRPbot\\src\\discord\\utils\\suspensionChecker.js:19:52)\n    at init (C:\\NYRPbot\\src\\index.js:45:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-19T11:09:32.854Z"}
{"channelId":"1357029740376101091","commandName":"office","context":"Office Create Command","errorId":"ERR-M9O4D8TR-ZP5UJ","interactionId":"1363110108975988786","level":"error","message":"Cannot read properties of undefined (reading 'nameFormat')","service":"nyrp-staff-bot","stack":"TypeError: Cannot read properties of undefined (reading 'nameFormat')\n    at handleCreateOffice (C:\\NYRPbot\\src\\discord\\commands\\offices\\officeCommand.js:255:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.execute (C:\\NYRPbot\\src\\discord\\commands\\offices\\officeCommand.js:167:13)\n    at async handleChatCommand (C:\\NYRPbot\\src\\discord\\events\\interactionCreate.js:153:5)\n    at async Object.execute (C:\\NYRPbot\\src\\discord\\events\\interactionCreate.js:42:9)","timestamp":"2025-04-19T11:12:55.791Z","userId":"538620090523058178"}
{"level":"error","message":"Failed to initialize ticket counter: Cannot read properties of undefined (reading 'match')","service":"nyrp-staff-bot","timestamp":"2025-04-19T11:31:05.045Z"}
{"channelId":"1357029739868455080","commandName":"ticket","context":"Ticket Create Command","errorId":"ERR-M9O5RD3Y-94PB7","interactionId":"1363119916944986203","level":"error","message":"Ticket.find(...).count is not a function","service":"nyrp-staff-bot","stack":"TypeError: Ticket.find(...).count is not a function\n    at handleCreateTicket (C:\\NYRPbot\\src\\discord\\commands\\infraction\\ticketCommand.js:250:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.execute (C:\\NYRPbot\\src\\discord\\commands\\infraction\\ticketCommand.js:193:13)\n    at async handleChatCommand (C:\\NYRPbot\\src\\discord\\events\\interactionCreate.js:153:5)\n    at async Object.execute (C:\\NYRPbot\\src\\discord\\events\\interactionCreate.js:42:9)","timestamp":"2025-04-19T11:51:54.142Z","userId":"538620090523058178"}
{"context":"BackgroundTask:ticketActivityCheck:scheduled","errorId":"ERR-M9O636XP-NQFT7","level":"error","message":"Cannot read properties of undefined (reading 'reminderAfterHours')","service":"nyrp-staff-bot","stack":"TypeError: Cannot read properties of undefined (reading 'reminderAfterHours')\n    at Object.task (C:\\NYRPbot\\src\\discord\\utils\\backgroundTasks.js:217:81)\n    at BackgroundTaskManager.runTask (C:\\NYRPbot\\src\\discord\\utils\\backgroundTasks.js:177:22)\n    at Timeout._onTimeout (C:\\NYRPbot\\src\\discord\\utils\\backgroundTasks.js:113:12)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-04-19T12:01:06.014Z"}
{"level":"error","message":"Error in scheduled execution of task 'ticketActivityCheck': Cannot read properties of undefined (reading 'reminderAfterHours') (Error ID: ERR-M9O636XP-NQFT7)","service":"nyrp-staff-bot","timestamp":"2025-04-19T12:01:06.016Z"}
{"context":"SuspensionChecker:checkExpiredSuspensions","errorId":"ERR-M9ODEV9B-K87IQ","level":"error","message":"getaddrinfo ENOTFOUND ac-flwzoq1-shard-00-02.5jlnac1.mongodb.net","service":"nyrp-staff-bot","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-flwzoq1-shard-00-02.5jlnac1.mongodb.net\n    at Topology.selectServer (C:\\NYRPbot\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:526:9)\n    at async tryOperation (C:\\NYRPbot\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (C:\\NYRPbot\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (C:\\NYRPbot\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (C:\\NYRPbot\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (C:\\NYRPbot\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)\n    at async FindCursor.next (C:\\NYRPbot\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:347:17)\n    at async [Symbol.asyncIterator] (C:\\NYRPbot\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:255:34)","timestamp":"2025-04-19T15:26:08.064Z"}
{"level":"error","message":"Error checking expired suspensions: getaddrinfo ENOTFOUND ac-flwzoq1-shard-00-02.5jlnac1.mongodb.net (Error ID: ERR-M9ODEV9B-K87IQ)","service":"nyrp-staff-bot","timestamp":"2025-04-19T15:26:08.176Z"}
{"context":"BackgroundTask:ticketActivityCheck:scheduled","errorId":"ERR-M9ODEVF7-AP511","level":"error","message":"Cannot read properties of undefined (reading 'reminderAfterHours')","service":"nyrp-staff-bot","stack":"TypeError: Cannot read properties of undefined (reading 'reminderAfterHours')\n    at Object.task (C:\\NYRPbot\\src\\discord\\utils\\backgroundTasks.js:217:81)\n    at BackgroundTaskManager.runTask (C:\\NYRPbot\\src\\discord\\utils\\backgroundTasks.js:177:22)\n    at Timeout._onTimeout (C:\\NYRPbot\\src\\discord\\utils\\backgroundTasks.js:113:12)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-04-19T15:26:08.276Z"}
{"level":"error","message":"Error in scheduled execution of task 'ticketActivityCheck': Cannot read properties of undefined (reading 'reminderAfterHours') (Error ID: ERR-M9ODEVF7-AP511)","service":"nyrp-staff-bot","timestamp":"2025-04-19T15:26:08.296Z"}
{"context":"BackgroundTask:ticketActivityCheck:scheduled","errorId":"ERR-M9OEHGBD-QPN67","level":"error","message":"Cannot read properties of undefined (reading 'reminderAfterHours')","service":"nyrp-staff-bot","stack":"TypeError: Cannot read properties of undefined (reading 'reminderAfterHours')\n    at Object.task (C:\\NYRPbot\\src\\discord\\utils\\backgroundTasks.js:217:81)\n    at BackgroundTaskManager.runTask (C:\\NYRPbot\\src\\discord\\utils\\backgroundTasks.js:177:22)\n    at Timeout._onTimeout (C:\\NYRPbot\\src\\discord\\utils\\backgroundTasks.js:113:12)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-04-19T15:56:08.281Z"}
{"level":"error","message":"Error in scheduled execution of task 'ticketActivityCheck': Cannot read properties of undefined (reading 'reminderAfterHours') (Error ID: ERR-M9OEHGBD-QPN67)","service":"nyrp-staff-bot","timestamp":"2025-04-19T15:56:08.328Z"}
